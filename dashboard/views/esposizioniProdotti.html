<button type="button" class="btn btn-info saveData" ng-click="saveDataDB()" ng-disabled="saving">SAVE DATA FROM DB</button>
<div class="nuovo" ng-if="!esposizioneProdotto.selected">
    <h1>nuovo prodotto per esposizione</h1>
    <div class="rows">
        <select class="form-control marchio" ng-options="c.i as c.n for c in vm.marchi | orderBy : 'n'" data-ng-model="vm.nuovoEsposizioneProdotto.k">
            <option value="" selected>Marchio esposizione</option>
        </select>
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.k" class="form-control marchio" ng-options="l.i as l.n for l in vm.linee | filter : {m : vm.nuovoEsposizioneProdotto.k} : true| orderBy : 'n'" data-ng-model="vm.nuovoEsposizioneProdotto.j">
            <option value="" selected>Linea esposizione</option>
        </select>
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.j" class="form-control marchio" ng-options="v.i as (v.c + '_' + v.f) for v in vm.esposizioni | filter : {l : vm.nuovoEsposizioneProdotto.j} : true| orderBy : 'c'" data-ng-model="vm.nuovoEsposizioneProdotto.c">
            <option value="" selected>Esposizione</option>
        </select>
        <input class="form-control pos" type="number" placeholder="0" ng-model="vm.nuovoEsposizioneProdotto.y" popover="Posizione" popover-trigger="mouseenter">
    </div>
    <div class="rows">
        <select class="form-control marchio" ng-options="c.i as c.n for c in vm.marchi | orderBy : 'n'" data-ng-model="vm.nuovoEsposizioneProdotto.m">
            <option value="" selected>Marchio prodotto</option>
        </select>
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.m" class="form-control marchio" ng-options="l.i as l.n for l in vm.linee | filter : {m : vm.nuovoEsposizioneProdotto.m} : true | orderBy : 'n'" data-ng-model="vm.nuovoEsposizioneProdotto.l">
            <option value="" selected>Linea prodotto</option>
        </select>
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.l" class="form-control marchio" ng-options="v.i as v.c for v in vm.prodotti | filter : {l : vm.nuovoEsposizioneProdotto.l} : true | orderBy : 'c'" data-ng-model="vm.nuovoEsposizioneProdotto.p">
            <option value="" selected>Prodotto</option>
        </select>
        <input class="form-control pos" type="number" placeholder="0" ng-model="vm.nuovoEsposizioneProdotto.q" popover="QuantitÃ " popover-trigger="mouseenter">
    </div>
    <div class="rows">
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.p" class="form-control tabelleVetrina" ng-options="t.i as t.n for t in tabsAvailable | orderBy : 'n'" data-ng-model="vm.nuovoEsposizioneProdotto.u">
            <option value="" selected>Tabelle finiture</option>
        </select>
        <select ng-disabled="!vm.nuovoEsposizioneProdotto.u" class="form-control marchio" ng-options="v.i as v.c for v in finsAvailable" data-ng-model="vm.nuovoEsposizioneProdotto.f">
            <option value="" selected>Finitura</option>
        </select>
    </div>
    <div class="rows">
        <button class="btn btn-primary" type="button" ng-click="action('N')" ng-disabled="updateCheck()">SUBMIT</button>
        <button class="btn btn-primary" type="button" ng-click="newItem()">RESET</button>
    </div>
</div>
<div class="modifica" ng-if="esposizioneProdotto.selected">
    <h1>modifica prodotto in esposizione</h1>
    <esposizioni-prodotti esposizione-prodotto-original = "esposizioneProdotto" vm = "vm"></esposizioni-prodotti>
</div>

<div class="gestione">
    <h1>gestione prodotto in esposizione</h1>
    <div class="filtri">
        <div class="rows">
            <div class="inlineBlock" ng-include="'include/lineeFilter.html'"></div>
            <input class="form-control shortCod" type="text" placeholder="Filtro Espos." ng-model="input" ng-keyup="eraseInput($event)" title="Filtro esposizione">
            <input class="form-control nome" type="text" placeholder="Filtro prodotto" ng-model="inputCod" ng-keyup="eraseInput($event, 1)" title="Filtro Prodotto">
            <input class="form-control pos" type="number" ng-model="vm.itemsPerPage" popover="Numero di risultati per pagina" popover-trigger="mouseenter">
        </div>
    </div>
    <div class="list">
        <div ng-repeat="s in vm.esposizioniProdotti
        | orderBy           :   vm.sorting
        | filterByLineVtr   :   filtro.linea.i
        | filterByPrd       :   filtro.esposizioneProdotto.p
        | filterByCmp       :   filtro.esposizioneProdotto.c
        | offset            :   ((vm.currentPage -1) * vm.itemsPerPage) : ((vm.currentPage -1) * vm.itemsPerPage + vm.itemsPerPage)
        ">
            <h4 ng-click="selectItem(s)">{{convert(s.p, 'prodotti', 'c')}} {{convert(s.f, 'abbinamenti', 'c')}} <span>{{convert(s.u, 'finitureTabelle', 'n')}}</span></h4>
            <p class="listTitle">Espos.:</p>
            <p>{{convert(s.k, 'marchi', 'n')}}</p>
            <p>{{convert(s.j, 'linee', 'n')}}</p>
            <p>Cod: {{convert(s.c, 'esposizioni', 'c')}}_{{convert(s.c, 'esposizioni', 'f')}}</p><br>
            <p class="noBorder listTitle">Prodotto: </p>
            <p>{{convert(s.m, 'marchi', 'n')}}</p>
            <p>{{convert(s.l, 'linee', 'n')}}</p>
            <p>Pos: {{s.y}}</p>
            <p>Qnt: {{s.q}}</p>
        </div>
        <div ng-if="(vm.esposizioniProdotti
                | filterByLineVtr   :   filtro.linea.i
                | filterByPrd       :   filtro.esposizioneProdotto.p
                | filterByCmp       :   filtro.esposizioneProdotto.c
            ).length != 0" class="paginationContainer">
            <pagination
                    total-items = "(vm.esposizioniProdotti
                        | filterByLineVtr   :   filtro.linea.i
                        | filterByPrd       :   filtro.esposizioneProdotto.p
                        | filterByCmp       :   filtro.esposizioneProdotto.c
                    ).length"
                    ng-model = "vm.currentPage"
                    boundary-links = "true"
                    max-size = "vm.maxSize"
                    items-per-page = "vm.itemsPerPage"
                    rotate = "false">
            </pagination>
        </div>
        <h5 ng-if="(vm.esposizioniProdotti
            | filterByLineVtr   :   filtro.linea.i
            | filterByPrd       :   filtro.esposizioneProdotto.p
            | filterByCmp       :   filtro.esposizioneProdotto.c
        ).length == 0">Nessun risultato disponibile</h5>
    </div>
</div>