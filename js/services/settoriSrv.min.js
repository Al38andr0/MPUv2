var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var f=a.length,b=0;b<f;b++){var m=a[b];if(d.call(c,m,b,a))return{i:b,v:m}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,f){if(d){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var b=a[f];b in c||(c[b]={});c=c[b]}a=a[a.length-1];f=c[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
(function(){function a(a,c,f,b){var d=f+"settori.php",k=new window.Mixin,l=function(a,b){switch(a){case "categoria":switch(b){case "mobili per ufficio":return"Arredi";case "sedute per ufficio":return"Sedute";case "pareti divisorie":return"Pareti";case "accessori per ufficio":return"Accessori";case "art & design":return"Art & Design"}break;case "settore":return-1!==b.indexOf("arredi")?b.replace("arredi","ambienti"):b}};return{getAll:function(h,g){a.get(d,{params:{action:"getAll"},cache:!0}).then(function(a){c.debugConsole&&
console.log("GET ALL settori: SUCCESS",a);if(h){var e={list:[]},g=[];b.each(a.data,function(a){b.contains(g,a.cat_id)||(g.push(a.cat_id),e.list.push({nome:a.cat_nome,url:k.generateUrl(a.cat_nome),title:l("settore",a.set_nome),id:parseInt(a.cat_id),posizione:parseInt(a.cat_pos),settori:[]}));var c=g.indexOf(a.cat_id);e.list[c].settori.push({nome:a.set_nome,url:k.generateUrl(a.set_nome),title:l("settore",a.set_nome),id:parseInt(a.set_id)})});return h(e)}},function(a){c.debugConsole&&console.log("GET ALL settori: FAIL",
a);if(g)return g()})},getDescription:function(b,g,e){a.get(d,{params:{action:"getDescription",param:b},cache:!0}).then(function(a){c.debugConsole&&console.log("GET DESCRIPTION SUCCESS",a);if(g)return g(a.data[0].set_txt)},function(a){c.debugConsole&&console.log("GET DESCRIPTION",a);if(e)return e(a)})},info:function(){return[{nome:"Homepage",url:"home",target:"_self"},{nome:"Chi siamo",url:"chi_siamo",target:"_self",restrict:"mpu"},{nome:"Contatti",url:"contatti",target:"_self",restrict:"mpu"},{nome:"Condizioni",
url:"condizioni",target:"_self",restrict:"all"},{nome:"Progettazione",url:"progettazine",target:"_self",restrict:"mpu"},{nome:"Adamantx",url:"adamantx",target:"_self",restrict:"all"},{nome:"F.A.Q.",url:"faq",target:"_self",restrict:"all"},{nome:"Privacy & Cookies",url:"privacy_e_cookies",target:"_self",restrict:"all"},{nome:"Facebook page",url:"https://www.facebook.com/mobiliperufficiocom-814011128625554/?ref=hl",target:"_blank",restrict:"mpu"},{nome:"Google+ page",url:"https://plus.google.com/105034652436636507879",
target:"_blank",restrict:"mpu"}]},extractCategorie:function(a,c){var e=[],g=[],d=[],f=[];b.each(c,function(a){e.push(a.categoria);d.push(a.settori)});b.each(c,function(a){f.push(a.linee)});f=b.flatten(f);e=b.uniq(b.flatten(e));d=b.uniq(b.flatten(d));b.each(e,function(c){var e=b.find(a,function(a){return a.id===c}),h={nome:e.nome,url:k.generateUrl(e.nome),titolo:l("categoria",e.nome),id:e.id,posizione:e.posizione,settori:[]};b.each(e.settori,function(a){a.linee=b.filter(f,function(c){return b.contains(c.settore,
a.id)});b.contains(d,a.id)&&h.settori.push(a)});g.push(h)});return b.sortBy(g,"posizione")},extractSettori:function(a){var c=[];b.each(a,function(a){c.push(a.settori)});return b.flatten(c)},getNameFromId:function(a,c){return b.find(a,function(a){return a.id===c}).nome},addLinee:function(a,c){b.each(a,function(a){var d=[];b.each(angular.copy(c),function(c){c=b.filter(c.linee,function(c){return b.contains(c.settori,a.id)});d.push(c)});a.linee=b.sortBy(b.flatten(d),function(a){return a.position})})}}}
angular.module("mpu").service("settoriSrv",a);a.$inject=["$http","$rootScope","API","_"]})();
