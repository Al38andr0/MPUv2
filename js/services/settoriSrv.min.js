var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,b){a instanceof String&&(a=String(a));for(var f=a.length,c=0;c<f;c++){var n=a[c];if(e.call(b,n,c,a))return{i:c,v:n}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,b){a!=Array.prototype&&a!=Object.prototype&&(a[e]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,b,f){if(e){b=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var c=a[f];c in b||(b[c]={});b=b[c]}a=a[a.length-1];f=b[a];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(){function a(a,b,f,c){var e=f+"settori.php",l=new window.Mixin,k=function(c,a){switch(c){case "categoria":switch(a){case "mobili per ufficio":return"Arredi";case "sedute per ufficio":return"Sedute";case "pareti divisorie":return"Pareti";case "accessori per ufficio":return"Accessori";case "art & design":return"Art & Design"}break;case "settore":return-1!==a.indexOf("arredi")?a.replace("arredi","ambienti"):a}};return{getAll:function(h,g){a.get(e,{params:{action:"getAll"},cache:!0}).then(function(a){b.debugConsole&&
console.log("GET ALL settori: SUCCESS",a);if(h){var m={list:[]},d=[];c.each(a.data,function(a){c.contains(d,a.cat_id)||(d.push(a.cat_id),m.list.push({nome:a.cat_nome,url:l.generateUrl(a.cat_nome),title:k("settore",a.set_nome),id:parseInt(a.cat_id),posizione:parseInt(a.cat_pos),settori:[]}));var b=d.indexOf(a.cat_id);m.list[b].settori.push({nome:a.set_nome,url:l.generateUrl(a.set_nome),title:k("settore",a.set_nome),id:parseInt(a.set_id)})});return h(m)}},function(a){b.debugConsole&&console.log("GET ALL settori: FAIL",
a);if(g)return g()})},getDescription:function(c,g,d){a.get(e,{params:{action:"getDescription",param:c},cache:!0}).then(function(a){b.debugConsole&&console.log("GET DESCRIPTION SUCCESS",a);if(g)return g(a.data[0].set_txt)},function(a){b.debugConsole&&console.log("GET DESCRIPTION",a);if(d)return d(a)})},info:function(){return[{nome:"Homepage",url:"home",target:"_self"},{nome:"Chi siamo",url:"chi_siamo",target:"_self",restrict:"mpu"},{nome:"Contatti",url:"contatti",target:"_self",restrict:"mpu"},{nome:"Condizioni",
url:"condizioni",target:"_self",restrict:"all"},{nome:"Progettazione",url:"progettazine",target:"_self",restrict:"mpu"},{nome:"Adamantx",url:"adamantx",target:"_self",restrict:"all"},{nome:"F.A.Q.",url:"faq",target:"_self",restrict:"all"},{nome:"Privacy & Cookies",url:"privacy_e_cookies",target:"_self",restrict:"all"},{nome:"Facebook page",url:"https://www.facebook.com/mobiliperufficiocom-814011128625554/?ref=hl",target:"_blank",restrict:"mpu"},{nome:"Google+ page",url:"https://plus.google.com/105034652436636507879",
target:"_blank",restrict:"mpu"}]},extractCategorie:function(a,b){var d=[],g=[],e=[],f=[];c.each(b,function(a){d.push(a.categoria);e.push(a.settori)});c.each(b,function(a){f.push(a.linee)});f=c.flatten(f);d=c.uniq(c.flatten(d));e=c.uniq(c.flatten(e));c.each(d,function(b){var d=c.find(a,function(a){return a.id===b}),h={nome:d.nome,url:l.generateUrl(d.nome),titolo:k("categoria",d.nome),id:d.id,posizione:d.posizione,settori:[]};c.each(d.settori,function(a){a.linee=c.filter(f,function(d){return c.contains(d.settore,
a.id)});c.contains(e,a.id)&&h.settori.push(a)});g.push(h)});return c.sortBy(g,"posizione")},extractSettori:function(a){var b=[];c.each(a,function(a){b.push(a.settori)});return c.flatten(b)},getNameFromId:function(a,b){return c.find(a,function(a){return a.id===b}).nome},addLinee:function(a,b){c.each(a,function(a){var d=[];c.each(b,function(b){c.each(b.linee,function(b){c.find(b.settori,function(c){return c.id===a.id})&&d.push(b)})});a.linee=c.sortBy(c.flatten(d),function(a){return a.position})})},
createTitle:k,mapSettoriInLinee:function(a,b){c.each(b,function(b){c.each(b.linee,function(b){var d=angular.copy(b.settori);b.settori=[];c.each(d,function(d){var e=c.find(a,function(a){return a.id===d.id}).nome;b.settori.push({id:d.id,prezzo:d.prezzo,nome:e,titolo:-1!==e.indexOf("arredi")?e.replace("arredi","ambienti"):e})})})})}}}angular.module("mpu").service("settoriSrv",a);a.$inject=["$http","$rootScope","API","_"]})();
