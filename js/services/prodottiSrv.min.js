(function(){function b(b,e,k){var f=k+"prodotti.php",g=function(a){return{id:parseInt(a.prd_id),tipologia:parseInt(a.prd_tbpr),codice:a.prd_cod,title:a.prd_title,dimensioni:a.prd_dimensioni,note:a.prd_note,marchio:parseInt(a.prd_mark_id),linea:parseInt(a.prd_line_id),prezzi:JSON.parse(a.prd_price_array),abbinamenti:parseInt(a.prd_abb),finitura:parseInt(a.prd_fin),posizione:parseInt(a.prd_pos)}};return{getAllByLinea:function(a,c,d){b.get(f,{params:{action:"getAllByLinea",id:a},cache:!0}).then(function(a){e.debugConsole&&
console.log("GET ALL BY LINEA prodotti: SUCCESS",a);if(c){var h=[];_.each(a.data,function(a){a=g(a);h.push(a)});return c(h)}},function(a){e.debugConsole&&console.log("GET ALL BY LINEAprodotti: FAIL",a);if(d)return d()})},getAllByMarchio:function(a,c,d){b.get(f,{params:{action:"getAllByMarchio",id:a},cache:!0}).then(function(a){e.debugConsole&&console.log("GET ALL BY MARCHIO prodotti: SUCCESS",a);if(c){var b=[];_.each(a.data,function(a){a=g(a);b.push(a)});return c(b)}},function(a){e.debugConsole&&
console.log("GET ALL BY MARCHIOprodotti: FAIL",a);if(d)return d()})}}}angular.module("mpu").service("prodottiSrv",b);b.$inject=["$http","$rootScope","API"]})();
