var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var f=a.length,b=0;b<f;b++){var g=a[b];if(c.call(d,g,b,a))return{i:b,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,d,f){if(c){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var b=a[f];b in d||(d[b]={});d=d[b]}a=a[a.length-1];f=d[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6","es3");var underscore=angular.module("underscore",[]);underscore.factory("_",function(){return window._});
angular.module("dashboardApp",["ui.router","underscore","ngSanitize","services","ui.bootstrap"]).run(["$http","$rootScope","$timeout","optionsSrv",function(a,c,d,f){c.options=f;c.Actions=function(b,g){this.success=function(a){console.log("SUCCESS: ",a);b.$emit("updateTable");"Updated"!==a.data&&b.actions.reset();c.saving=!1;b.confirm=!1};this.fail=function(b){console.log("FAIL: ",b);c.saving=!1};this.confirm=function(){b.confirm=!0;d(function(){return b.confirm=!1},4E3)};this.checked=function(){b.checked=
!0;d(function(){return b.checked=!1},4E3)};this.create=function(){c.saving=!0;var e=b.buildBody();a.post("php/"+g+".php?type=new",JSON.stringify(e)).then(this.success,this.fail)};this.update=function(){c.saving=!0;var e=b.buildBody();e.id=b.entity.id;a.post("php/"+g+".php?type=update",JSON.stringify(e)).then(this.success,this.fail)};this.erase=function(){c.saving=!0;var e=b.buildBody();e.id=b.entity.id;a.post("php/"+g+".php?type=delete",JSON.stringify(e)).then(this.success,this.fail)};this.cleanInputFile=
function(){angular.forEach(angular.element("input[type='file']"),function(b){angular.element(b).val(null)})}};c.settings={itemsPerPage:5,query:{},tooltip:"top",load:function(b,g){if(!g&&c[b])return c[b];a.get("php/"+b+".php?type=get").then(function(a){console.log("GET SUCCESS "+b+": ",a.data);c[b]=a.data;c.$broadcast(b)},function(b){console.log("GET FAILS: ",b)})},show:function(b,a){return b>=(a-1)*c.settings.itemsPerPage&&b<a*c.settings.itemsPerPage},convert:function(b,a,e,d){if(c[a])return _.find(c[a],
function(a){return parseInt(a[e])===parseInt(b)})[d]},parse:function(b){return JSON.parse(b)},checklist:{categorie:function(b,a,e){var d=[];_.each(c[b],function(b){var c=parseInt(b[a+"_id"]);d.push({id:c,nome:b[a+"_nome"],checked:e?-1!==e.indexOf(c):!1})});return d},settori:function(b,a,d){var e=[];_.each(c[b],function(b){var c=parseInt(b[a+"_id"]);e.push({id:c,nome:b[a+"_nome"],categoria:b[a+"_cat_id"],checked:d?-1!==d.indexOf(c):!1})});return e}},replaceAll:function(b,a,c){return b.replace(new RegExp(a,
"g"),c)},idToLabel:function(a,c){return _.find(c,function(b){return b.id===a}).label}};c.Model=function(){this.list=[];this.currentPage=1};c.saving=!1;c.changing=!1}]);
